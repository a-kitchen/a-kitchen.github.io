<html>
<head>
<title>a-kitchen</title>
</head>
<body>
<h1>a-kitchen</h1>
<br>
<input id="name" type="text" size=17 placeholder="Device Name">
<button type="button" onclick="search()">sraech</button>
<p id= "demo"> 123456789 </p>
<p  id = "conn"> fals</p>
<p id = "service">Servicefals</p>
<script>
function search(){
	document.getElementById("demo").innerHTML="My First JavaScript";
	let options = {};
	let filters = [];
	let filterName = document.querySelector('#name').value;
  if (filterName) {
    filters.push({name: filterName});
	 options.filters = filters;
  }else{
  options.acceptAllDevices = true;
  }
  
	navigator.bluetooth.requestDevice(options).then(device => {
			console.log('Got device:', device.name);
			console.log('id:', device.id);
			console.log('Connected:' + device.gatt.connected);
			console.log('Connected:' + device.gatt.connected);
			document.getElementById("demo").innerHTML="My First JavaScript"+device.name;
	return	device.gatt.connect();
		       
			}).then(server => {
				document.getElementById("service").innerHTML="trurservcice";
			
				
				
			 return server.getPrimaryService('00000000-0000-1000-8000-00805-f9b34fb');
			}).then(service => {
	
	              service.getCharacteristic('00000002-0000-1000-8000-00805F9B34FB');
             })
			
			.catch(error => {
			document.getElementById("demo").innerHTML="error"+error;
			});
	
}

</script>

<br>
<button type="button" onclick="getServices()">get Service</button>
<br>
<button type="button" onclick="startNo()">startNotifications</button>
<br>
<button type="button" onclick="stopNo()">stopNotifications</button>
<br>
<button type="button" onclick="read()">read</button>
<br>
<button type="button" onclick="write()">write</button>
<br>

<p>Links
<ul>
<li><a href="https://googlechrome.github.io/samples/web-bluetooth/">Web Bluetooth Samples</a>
<li><a href="https://github.com/WebBluetoothCG">Web Bluetooth Community Group</a>
</ul>
</body>
<script src="inspect.js"></script>
</html>

